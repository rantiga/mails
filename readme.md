## Тестовое задание для Юникрон

Для решения использовались следующие технологии: php 7.1, nginx 1.14, MySql 5.5

В текущем репозитории залит полный код проекта и фреймворка. Для начала работы,
достаточно залить все файлы в рабочую папку сервера и указать точку входа на папку **public**.

#### Примечание
В коде отсутствует реализация отправки писем для группы B.
К сожалению, я не смог понять, как перенести запрос
```
SELECT * FROM users u WHERE (SELECT COUNT(*) FROM login_source l WHERE l.user_id = u.id) > 2
```
в модель laravel. Принял решение, что не стоит затягивать с заданием, и показать то, что есть.
#### Миграции
Для создания структуры таблиц и заполнения ее тестовыми данными, следует указать в
файле **.env** параметры для подключения к базе.

Далее следует запустить команду **php artisan migrate --seed**

#### Создание задач на отправку писем
При переходе в браузере по пути **<site>/mails** будут созданы задачи для отправки писем.
В коде имитиурется отправка писем. Для проверки работоспособности, действия логируются
в файле **storage/logs/laravel-<date>.log***
На текущем шаге, в лог будет добавлено сообщение о параметрах письма и дате отправки.

Письма отправляются с интервалом в одну минуту.

#### Запуск worker'a
Запуск worker'a осуществляется командой **php artisan queue:work**
